<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ title or "LINGCURA" }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/meowcss.css') }}">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Serif+Text:ital@0;1&display=swap">
</head>
<body>
  <div class="center-band">
    <header>
      <img src="{{ url_for('static', filename='assets/logo-v1.png') }}" alt="Lingcura logo" class="site-logo" />
    </header>

    <nav class="main-nav">
      <ul>
        <li><a href="{{ url_for('main.index') }}">Home</a></li>
        {% if current_user.is_authenticated %}
          <li><a class="{{ 'active' if request.blueprint=='profile' else '' }}" href="{{ url_for('profile.page') }}">Profile</a></li>
        {% endif %}
        <li><a href="{{ url_for('translate.provider_card', lang=LANG) }}">Translate</a></li>
        <li><a href="#contact">Contact</a></li>
        {% if current_user.is_authenticated %}
          <li><a href="{{ url_for('auth.logout') }}">Signout</a></li>
        {% else %}
          <li><a href="{{ url_for('auth.login_form') }}">Login</a></li>
          <li><a href="{{ url_for('auth.register_form') }}">Register</a></li>
        {% endif %}
      </ul>

<!--     <nav class="nav">
        <div class="left">
          <a class="brand" href="{{ url_for('main.index') }}">Lingcura</a>
      
          {% if current_user.is_authenticated %}
            <a class="{{ 'active' if request.blueprint=='profile' else '' }}"
               href="{{ url_for('profile.page') }}">Profile</a>
          {% endif %}
        </div>
      
        <div class="right">
          <form method="post" action="{{ url_for('set_lang') }}" class="lang-form">
            <select name="lang" onchange="this.form.submit()">
              <option value="en" {{ 'selected' if LANG=='en' else '' }}>English</option>
              <option value="es" {{ 'selected' if LANG=='es' else '' }}>Español</option>
            </select>
          </form>
          <a href="{{ url_for('translate.provider_card', lang=LANG) }}" target="_blank">
            Provider Card ({{ LANG|upper }})
            </a>
      
          {% if current_user.is_authenticated %}
            <form method="post" action="{{ url_for('auth.logout') }}" class="inline">
              <button>Logout</button>
            </form>
          {% else %}
            <a href="{{ url_for('auth.login_form') }}">Login</a>
            <a href="{{ url_for('auth.register_form') }}">Register</a>
          {% endif %}
        </div> -->

    </nav>

    <!-- Language Selector -->
    <form method="post" action="{{ url_for('set_lang') }}" class="lang-form">
      <label for="lang">Language:</label>
      <select name="lang" id="lang" onchange="this.form.submit()">
        <option value="en" {{ 'selected' if LANG=='en' else '' }}>English</option>
        <option value="es" {{ 'selected' if LANG=='es' else '' }}>Español</option>
      </select>
    </form>

    {% with msgs = get_flashed_messages(with_categories=true) %}
      {% if msgs %}
        <ul class="flash-messages">
          {% for cat, msg in msgs %}
            <li><strong>{{ cat }}:</strong> {{ msg }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </div>
</body>
</html>