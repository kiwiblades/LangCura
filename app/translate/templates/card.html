<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Langcura â€” Provider Card ({{ lang|upper }})</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/meowcss.css') }}">
  <style>
    body {
      font-family: system-ui, Arial, sans-serif;
      background: linear-gradient(to top, #fff1f6 0%, #fff9fb 40%, #eaf7f9 100%);
      margin: 0;
    }

    .center-band {
      background-color: #ffddf0;
      max-width: 800px;
      width: 100%;
      margin: 2rem auto;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      min-height: calc(100vh - 4rem);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }

    h1 { margin: .25rem 0; }
    .meta { color: #666; margin-bottom: 1rem; }
    section { margin: .85rem 0; }
    h2 { font-size: 1.05rem; margin: .5rem 0; }
    pre {
      white-space: pre-wrap;
      background: #fafafa;
      padding: .6rem;
      border: 1px solid #eee;
      border-radius: 8px;
    }

    .no-print { margin-bottom: 1rem; }
    .btn {
      padding: .35rem .6rem;
      border: 1px solid #68ff04;
      border-radius: 16px;
      text-decoration: none;
      color: #333;
    }

    @media print {
      .no-print { display: none; }
      body { margin: 0; }
    }
  </style>
</head>
<body>
  <div class="center-band">
    {# choose the opposite-language switch label using your translator #}
    {% set switch_label = t('switch_to_en', LANG) if other_lang == 'en' else t('switch_to_es', LANG) %}

    <div class="no-print">
      <a class="btn" href="{{ url_for('main.index') }}">&larr; {{ t('back', LANG) }}</a>
      <a class="btn" href="{{ url_for('translate.provider_card', lang=other_lang) }}">{{ switch_label }}</a>
      <button class="btn" onclick="window.print()">{{ t('print', LANG) }}</button>
    </div>

    <header>
      <h1>{{ t('card_title', LANG) }}</h1>
      <div><strong>{{ t('language', LANG) }}:</strong> {{ lang|upper }}</div>
    </header>

    <div class="meta">
      {% if user %}<div><strong>{{ t('card_user', LANG) }}:</strong> {{ user.email }}</div>{% endif %}
    </div>

    {% for label, key in [
        (t('symptoms', LANG),'symptoms'),
        (t('medications', LANG),'medications'),
        (t('conditions', LANG),'conditions'),
        (t('allergies', LANG),'allergies'),
        (t('surgeries', LANG),'surgeries'),
        (t('vaccines', LANG),'vaccines'),
        (t('family_history', LANG),'family_history')] %}
      <section>
        <h2>{{ label }}</h2>
        <pre>{{ p.get(key) or t('none', LANG) }}</pre>
      </section>
    {% endfor %}
  </div>
</body>
</html>
